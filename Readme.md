# Swagger from 1C

## Зміст:

1. [Опис сервісів](#опис-сервісів)
2. [Web 1C](#web-1c)

Конфігурація, яка дозволяє реалізувати 2 речі:

-   Описати OpenAPI специфікацію конкретного API
-   Опублікувати Swagger UI за допомогою підсистеми Web1C

![Swagger from 1C example](/docs/SwaggerFrom1C.jpg 'Swagger from 1C example')

Тепер ви можете зібрати в одному місці API, як ерозроблене вами, так і стороннє API, яке використовуєте під час інтеграцій.

## Опис сервісів

Описати сервіс можна 3 способами

### 1. Зовнішнє посилання

Можна вказати УРЛ на опис потрібного API. Єдине що може піти не так - це проблема CORS. Тут вже все залежить від постачальника АПІ.
![Service URL](/docs/ServiceURL.jpg 'Service URL')

### 2. Текстовий опис

Ну тут все просто - редагуйте опис публікації в будь-якому редакторі і вставляйте.
![Service text](/docs/ServiceText.jpg 'Service text')

### 3. Об'єктна специфікація

Всі об'єкти ОпенАПІ специфікації перенесені у відповідні довідники. У файлах є демо-набір, який можна завантажити обробкою "Вигрузка і загрузка даних XML"
![Service object](/docs/ServiceObject.jpg 'Service object')

### Завантаження демо

За допомогою "Swagger -> Выгрузка и загрузка данных XML" завантажити файл "ExtFiles/service_upload.xml"

## Web 1C

Підсистема, яка дозволяє опублікувати в даному випадку Swagger UI.
Коротка інструкція по запуску:

-   Створити користувача із роллю "Повні права", бажано латиницею
-   Опублікувати лише http-сервіси "Index" та "Ресурси"
-   Додати в vrd-файл публікації примусову авторизацію під створеним користувачем(в додаткових файлах є приклад мого vrd-файлу)
-   в "Web 1C -> Параметри Web 1C" прописати:
-   -   "Ім'я публікації" в форматі <Ім'я публікації>/hs
-   -   "Повна адреса публікації" в форматі http://<Url веб-серверу>/<Ім'я публікації>/hs
-   За допомогою "Web 1C -> Выгрузка/загрухзка в другую ИБ" завантажити файл "ExtFiles\web_1c_client.xml"
-   Перевірити роботу за адресою http://<Url веб-серверу>/<Ім'я публікації>/hs/index
